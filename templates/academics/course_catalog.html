{% extends "base.html" %}
{% load static i18n %}

{% block content %}
<div class="container mx-auto px-4 py-12">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-4xl font-bold text-blue-900 mb-8 text-center">
            {% trans "Course Catalog" %}
        </h1>

        <div class="mb-8 flex flex-wrap gap-4 justify-center">
            <button data-filter="all" class="filter-btn px-4 py-2 bg-blue-600 text-white rounded-full">
                {% trans "All Courses" %}
            </button>
            {% for dept in departments %}
            <button data-filter="{{ dept.id }}" class="filter-btn px-4 py-2 bg-gray-200 hover:bg-blue-200 rounded-full">
                {{ dept.name }}
            </button>
            {% endfor %}
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="course-container">
            {% for course in courses %}
            {% include 'academics/includes/course_card.html' %}
            {% endfor %}
        </div>

        {% include 'includes/pagination.html' %}
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterBtns = document.querySelectorAll('.filter-btn');
    const courses = document.querySelectorAll('.course-card');
    
    filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const filterValue = this.dataset.filter;
            
            courses.forEach(course => {
                const courseDept = course.dataset.department;
                if(filterValue === 'all' || filterValue === courseDept) {
                    course.classList.remove('hidden');
                } else {
                    course.classList.add('hidden');
                }
            });
            
            filterBtns.forEach(b => b.classList.remove('bg-blue-600', 'text-white'));
            this.classList.add('bg-blue-600', 'text-white');
        });
    });
});
</script>
{% endblock %}